(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{600:function(e,a,t){Promise.resolve().then(t.bind(t,8315))},8315:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return u}});var s=t(7437),l=t(2265),i=t(429),n=t(3247),r=t(740),c=t(7168),d=t(1281),o=t(5805),x=t(3774),m=t(9474),h=t(1723),p=t(7037);function u(){let[e,a]=(0,l.useState)([]),[t,u]=(0,l.useState)(!0),[v,g]=(0,l.useState)({}),[j,N]=(0,l.useState)(!1),[y,b]=(0,l.useState)(1),[f,w]=(0,l.useState)(!0),k=["NA","EU","AP","BR","KR","LATAM"],E=["Iron","Bronze","Silver","Gold","Platinum","Diamond","Immortal","Radiant"];(0,l.useEffect)(()=>{Z()},[v,y]);let Z=async()=>{u(!0);try{let e=new URLSearchParams;e.set("page",y.toString()),e.set("limit","20"),Object.entries(v).forEach(a=>{let[t,s]=a;s&&s.length>0&&(Array.isArray(s)?s.forEach(a=>e.append(t,a)):e.set(t,s))});let t=await fetch("/api/parties?".concat(e)),s=await t.json();s.success&&(1===y?a(s.data.parties):a(e=>[...e,...s.data.parties]),w(s.data.pagination.page<s.data.pagination.pages))}catch(e){console.error("Error fetching parties:",e)}finally{u(!1)}},S=(e,a)=>{g(t=>({...t,[e]:t[e]===a?void 0:a})),b(1)},C=e=>{g(a=>({...a,sortBy:e})),b(1)};return(0,s.jsx)("div",{className:"min-h-screen bg-valorant-dark py-20",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Browse Parties"}),(0,s.jsx)("p",{className:"text-valorant-light/80 text-lg max-w-2xl mx-auto",children:"Find the perfect party to join. Filter by rank, region, mode, and more."})]}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[(0,s.jsxs)("div",{className:"relative flex-1 sm:flex-none",children:[(0,s.jsx)(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-valorant-light/60 w-5 h-5"}),(0,s.jsx)("input",{type:"text",placeholder:"Search parties...",className:"input-field pl-10 w-full sm:w-80"})]}),(0,s.jsxs)("button",{onClick:()=>N(!j),className:"btn-secondary flex items-center space-x-2",children:[(0,s.jsx)(r.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Filters"})]}),(0,s.jsxs)("button",{onClick:()=>{b(1),Z()},className:"btn-secondary flex items-center space-x-2",disabled:t,children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 ".concat(t?"animate-spin":"")}),(0,s.jsx)("span",{children:"Refresh"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 text-valorant-light/60"}),(0,s.jsx)("select",{value:v.sortBy||"newest",onChange:e=>C(e.target.value),className:"input-field w-40",children:[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"mostViewed",label:"Most Viewed"}].map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),j&&(0,s.jsx)(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 card",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-valorant-light mb-3",children:"Region"}),(0,s.jsx)("div",{className:"space-y-2",children:k.map(e=>{var a;return(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:(null===(a=v.region)||void 0===a?void 0:a.includes(e))||!1,onChange:()=>S("region",e),className:"h-4 w-4 text-valorant-red focus:ring-valorant-red border-gray-600 rounded"}),(0,s.jsx)("span",{className:"ml-2 text-valorant-light/80",children:e})]},e)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-valorant-light mb-3",children:"Rank"}),(0,s.jsx)("div",{className:"space-y-2",children:E.map(e=>{var a;return(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:(null===(a=v.rank)||void 0===a?void 0:a.includes(e))||!1,onChange:()=>S("rank",e),className:"h-4 w-4 text-valorant-red focus:ring-valorant-red border-gray-600 rounded"}),(0,s.jsx)("span",{className:"ml-2 text-valorant-light/80",children:e})]},e)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-valorant-light mb-3",children:"Mode"}),(0,s.jsx)("div",{className:"space-y-2",children:["Ranked","Unrated","Spike Rush","Deathmatch","Escalation","Replication"].map(e=>{var a;return(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:(null===(a=v.mode)||void 0===a?void 0:a.includes(e))||!1,onChange:()=>S("mode",e),className:"h-4 w-4 text-valorant-red focus:ring-valorant-red border-gray-600 rounded"}),(0,s.jsx)("span",{className:"ml-2 text-valorant-light/80",children:e})]},e)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-valorant-light mb-3",children:"Party Size"}),(0,s.jsx)("div",{className:"space-y-2",children:["Solo","Duo","Trio","FourStack"].map(e=>{var a;return(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:(null===(a=v.size)||void 0===a?void 0:a.includes(e))||!1,onChange:()=>S("size",e),className:"h-4 w-4 text-valorant-red focus:ring-valorant-red border-gray-600 rounded"}),(0,s.jsx)("span",{className:"ml-2 text-valorant-light/80",children:e})]},e)})})]})]})})]}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"card text-center",children:[(0,s.jsx)(o.Z,{className:"w-6 h-6 text-valorant-red mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-white",children:e.length}),(0,s.jsx)("div",{className:"text-valorant-light/60 text-sm",children:"Active Parties"})]}),(0,s.jsxs)("div",{className:"card text-center",children:[(0,s.jsx)(x.Z,{className:"w-6 h-6 text-valorant-red mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-white",children:k.length}),(0,s.jsx)("div",{className:"text-valorant-light/60 text-sm",children:"Regions"})]}),(0,s.jsxs)("div",{className:"card text-center",children:[(0,s.jsx)(m.Z,{className:"w-6 h-6 text-valorant-red mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-white",children:E.length}),(0,s.jsx)("div",{className:"text-valorant-light/60 text-sm",children:"Ranks"})]}),(0,s.jsxs)("div",{className:"card text-center",children:[(0,s.jsx)(h.Z,{className:"w-6 h-6 text-valorant-red mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-white",children:"30m"}),(0,s.jsx)("div",{className:"text-valorant-light/60 text-sm",children:"Avg. Duration"})]})]}),(0,s.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t&&0===e.length?Array.from({length:6}).map((e,a)=>(0,s.jsxs)("div",{className:"card animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-600 rounded w-3/4 mb-4"}),(0,s.jsx)("div",{className:"h-3 bg-gray-600 rounded w-1/2 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-600 rounded w-2/3"})]},a)):e.length>0?e.map(e=>(0,s.jsx)(p.Z,{party:e},e._id)):(0,s.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,s.jsx)("div",{className:"text-valorant-light/60 text-lg mb-4",children:"No parties found matching your criteria"}),(0,s.jsx)("button",{onClick:()=>{g({}),b(1)},className:"btn-primary",children:"Clear Filters"})]})}),f&&e.length>0&&(0,s.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center mt-12",children:(0,s.jsx)("button",{onClick:()=>{!t&&f&&b(e=>e+1)},disabled:t,className:"btn-primary px-8 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:t?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"spinner"}),(0,s.jsx)("span",{children:"Loading..."})]}):"Load More Parties"})})]})})}},1281:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(9763).Z)("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]])},740:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(9763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7168:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(9763).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}},function(e){e.O(0,[710,64,999,971,117,744],function(){return e(e.s=600)}),_N_E=e.O()}]);