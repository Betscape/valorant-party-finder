"use strict";(()=>{var e={};e.id=744,e.ids=[744],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},4770:e=>{e.exports=require("crypto")},6162:e=>{e.exports=require("stream")},1764:e=>{e.exports=require("util")},7561:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>y,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>f});var n={};t.r(n),t.d(n,{GET:()=>c});var o=t(9303),s=t(8716),i=t(3131),u=t(7070),a=t(2021),p=t(1732),l=t(9178);async function c(e){try{await (0,a.Z)();let r=(0,l.bE)(e);if(!r)return u.NextResponse.json({success:!1,error:"Authentication required"},{status:401});let t=await p.Z.findById(r).select("-password");if(!t)return u.NextResponse.json({success:!1,error:"User not found"},{status:404});return u.NextResponse.json({success:!0,data:t})}catch(e){return console.error("Get user profile error:",e),u.NextResponse.json({success:!1,error:"Internal server error"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/user/profile/route",pathname:"/api/user/profile",filename:"route",bundlePath:"app/api/user/profile/route"},resolvedPagePath:"C:\\Users\\jgero\\Desktop\\myprograms\\valo\\app\\api\\user\\profile\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:f,serverHooks:h}=d,g="/api/user/profile/route";function y(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:f})}},9178:(e,r,t)=>{t.d(r,{Gv:()=>p,RA:()=>l,bE:()=>c,c_:()=>a});var n=t(1482),o=t.n(n),s=t(2023),i=t.n(s);let u="your-super-secret-jwt-key-change-this-in-production";async function a(e){return i().hash(e,12)}async function p(e,r){return i().compare(e,r)}function l(e){return o().sign(e,u,{expiresIn:"7d"})}function c(e){let r=function(e){let r=e.headers.get("authorization");return r&&r.startsWith("Bearer ")?r.substring(7):null}(e);if(!r)return null;let t=function(e){try{return o().verify(e,u)}catch(e){return null}}(r);return t?.userId||null}},2021:(e,r,t)=>{t.d(r,{Z:()=>u});var n=t(1185),o=t.n(n);let s="mongodb+srv://jgero961_db_user:5vS64ihmut6ImZ7i@cluster0.n1v0f5m.mongodb.net/valorant-party-finder?retryWrites=true&w=majority&appName=Cluster0";if(!s)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let i=global.mongoose;i||(i=global.mongoose={conn:null,promise:null});let u=async function(){if(i.conn)return i.conn;i.promise||(i.promise=o().connect(s,{bufferCommands:!1}).then(e=>e));try{i.conn=await i.promise}catch(e){throw i.promise=null,e}return i.conn}},1732:(e,r,t)=>{t.d(r,{Z:()=>i});var n=t(1185),o=t.n(n);let s=new n.Schema({email:{type:String,required:!0,unique:!0,lowercase:!0,trim:!0,index:!0},password:{type:String,required:!0,minlength:6},riotId:{type:String,required:!0,trim:!0,index:!0},bio:{type:String,maxlength:500},verified:{type:Boolean,default:!1},blocked:[{type:n.Schema.Types.ObjectId,ref:"User"}]},{timestamps:!0}),i=o().models.User||o().model("User",s)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[948,644],()=>t(7561));module.exports=n})();